//Time: O(n^2), Space: O (n)
class Solution {
    public:
        int ladderLength(string beginWord, string endWord, vector<string>& wordList) 
        {
            //pair<string, int> stands for a string and its current level in the ladder
            queue<pair<string, int>> ladderSteps;
            ladderSteps.push(pair<string, int>(beginWord, 1));
            List<string> wordListCopy;
            for (int i = 0; i < wordList.size(); ++i) {
                wordListCopy.push_back(wordList[i]);
            }
            while (!ladderSteps.empty()) {
                pair<string, int> currentStep = ladderSteps.begin();
                ladderSteps.pop();
                if (canTransform(currentStep.first, endWord)) {
                    return currentStep.second + 1;
                }
                List<string>::iterator iter = wordListCopy.begin(); 
                while (iter != wordListCopy.end()){
                    if (canTransform(*iter, currentStep.first)) {
                        ladderSteps.push(pair<string, int>(*iter, currentStep.second + 1));
                        wordListCopy.erase(iter++);
                    } else {
                        ++iter;
                    }
                }
            }
            return 0;
        }
        
        bool canTransform(string a, string b) 
        {
            int l = a.length();
            int count = 0;
            for (int i = 0; i < l; ++i) {
                if (a[i] != b[i]) {
                    ++count;
                }
            }
            return count == 1;
        }
};
